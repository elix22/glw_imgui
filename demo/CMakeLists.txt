CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(demo)

IF(UNIX)
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=c++11")
ENDIF()

SET( SDL2_PATH thirdparty/SDL2)
SET( GLEW_PATH thirdparty/glew)

ADD_SUBDIRECTORY(${SDL2_PATH})
ADD_SUBDIRECTORY(${GLEW_PATH}/build/cmake)

INCLUDE_DIRECTORIES(${SDL2_PATH}/include)
INCLUDE_DIRECTORIES(${GLEW_PATH}/include)

INCLUDE_DIRECTORIES(./../include)

IF(WIN32)
   ADD_DEFINITIONS(-D_CRT_SECURE_NO_WARNINGS)
ENDIF()

IF (APPLE OR UNIX)
	find_package (OpenGL REQUIRED)
ELSE()
	SET(OpenGL_LIBRARY opengl32)
ENDIF()

ADD_EXECUTABLE (${PROJECT_NAME} main.cpp platform_sdl.cpp platform_sdl.h)
TARGET_LINK_LIBRARIES( ${PROJECT_NAME} SDL2 SDL2main glew_s ${OPENGL_LIBRARIES} imgui)


